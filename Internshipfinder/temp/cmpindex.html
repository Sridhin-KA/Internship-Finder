<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Company Dashboard - Internship Finder</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">

  <!-- Navbar -->
  <nav class="bg-[#1E3A8A] text-white shadow-md p-4 flex justify-between items-center">
    <h1 class="text-2xl font-bold">Internship Finder</h1>
    <div class="space-x-6">
      <a href="#" class="hover:text-gray-200">Home</a>
      <a href="openintern" class="hover:text-gray-200">Post Internship</a>
      <a href="{% url 'company_applications' %}" class="hover:text-gray-200">Applications</a>
      <a href="cprofile" class="hover:text-gray-200">Profile</a>
      <a href="logout" class="bg-white text-[#1E3A8A] px-4 py-2 rounded-lg font-medium hover:bg-gray-100">
  Logout
</a>

    </div>
  </nav>

  <!-- Header -->
  <header class="bg-[#2563EB] text-white text-center py-10 shadow-sm">
    <h2 class="text-3xl font-bold">Company Dashboard</h2>
    <p class="mt-2 text-lg text-gray-100">
      Manage your internships, review applications, and connect with top talent.
    </p>
  </header>

  <!-- Main Content -->
  <main class="p-8 grid md:grid-cols-3 gap-8">
    <!-- Card 1 -->
    <div class="bg-white p-6 rounded-2xl shadow hover:shadow-lg transition border border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800">Post a New Internship</h3>
      <p class="text-gray-600 mt-2">Create and publish new internship opportunities for students.</p>
      <a href="openintern" class="inline-block mt-5 bg-[#2563EB] text-white px-4 py-2 rounded-lg hover:bg-[#1D4ED8] transition">Post Now</a>
    </div>

    <!-- Card 2 -->
    <div class="bg-white p-6 rounded-2xl shadow hover:shadow-lg transition border border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800">View Applications</h3>
      <p class="text-gray-600 mt-2">Track and manage student applications for your internships.</p>
      <a href="{% url 'company_applications' %}" class="inline-block mt-5 bg-[#2563EB] text-white px-4 py-2 rounded-lg hover:bg-[#1D4ED8] transition">View Applications</a>
    </div>

    <!-- Card 3 -->
    <div class="bg-white p-6 rounded-2xl shadow hover:shadow-lg transition border border-gray-200">
      <h3 class="text-xl font-semibold text-gray-800">Company Profile</h3>
      <p class="text-gray-600 mt-2">Update your company details and improve visibility.</p>
      <a href="cprofile" class="inline-block mt-5 bg-[#2563EB] text-white px-4 py-2 rounded-lg hover:bg-[#1D4ED8] transition">Update Profile</a>
    </div>
  </main>

  <!-- Internship Listings Section -->
<section class="p-8">
  <h2 class="text-2xl font-bold text-gray-800 mb-4">Your Posted Internships</h2>
  <div class="bg-white p-6 rounded-2xl shadow border border-gray-200">
    <table class="w-full border-collapse">
      <thead>
        <tr class="bg-[#EFF6FF] text-[#1E3A8A]">
          <th class="p-3 text-left">Title</th>
          <th class="p-3 text-left">Applicants</th>
          <th class="p-3 text-left">Status</th>
          <th class="p-3 text-left">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for internship in internships %}
        <tr class="border-t hover:bg-gray-50">
          <td class="p-3">{{ internship.title }}</td>
          <td class="p-3">
            {{ internship.applications.count|default:0 }}
          </td>
          <td class="p-3 
            {% if internship.status == 'active' %}text-green-600
            {% elif internship.status == 'pending' %}text-yellow-600
            {% else %}text-red-600{% endif %}
            font-medium">
            {{ internship.get_status_display }}
          </td>
          <td class="p-3">
            <a href="{% url 'delete_internship' internship.id %}" 
               class="text-red-600 hover:underline"
               onclick="return confirm('Are you sure you want to delete this internship?');">
               Delete
            </a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="4" class="p-3 text-center text-gray-500">No internships posted yet.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</section>

  <!-- Footer -->
  <footer class="bg-[#1E3A8A] text-white text-center p-4 mt-6">
    <p>&copy; 2025 Internship Finder. All rights reserved.</p>
  </footer>

</body>
</html>